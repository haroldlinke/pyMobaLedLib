// This file contains the Selectrix and LED definitions.
//
// It was automatically generated by the program ProgGenerator Ver. 4.0.9      by Hardi
// File creation: 04/14/23 19:37:16
// (Attention: The display in the Arduino IDE is not updated if Options/External Editor is disabled)

#ifndef __LEDS_AUTOPROG_H__
#define __LEDS_AUTOPROG_H__

#ifndef CONFIG_ONLY
#ifndef ARDUINO_RASPBERRY_PI_PICO
#define FASTLED_INTERNAL       // Disable version number message in FastLED library (looks like an error)
#include <FastLED.h>           // The FastLED library must be installed in addition if you got the error message "..fatal error: FastLED.h: No such file or directory"
                               // Arduino IDE: Sketch / Include library / Manage libraries                    Deutsche IDE: Sketch / Bibliothek einbinden / Bibliothek verwalten
                               //              Type "FastLED" in the "Filter your search..." field                          "FastLED" in das "Grenzen Sie ihre Suche ein" Feld eingeben
                               //              Select the entry and click "Install"                                         Gefundenen Eintrag auswaehlen und "Install" anklicken
#else
#include <PicoFastLED.h>       // Juergens minimum version or FastLED for Raspberry Pico
#endif
#endif // CONFIG_ONLY

#include <MobaLedLib.h>

#define START_MSG "LEDs_AutoProg Ver 1: Ver_4.0.9 04.14.23 19:37"

#define USE_SX_INTERFACE               // enable Selectrix protocol on single CPU mainboards
#ifdef NUM_LEDS
  #warning "'NUM_LEDS' definition in the main program is replaced by the included 'LEDs_AutoProg.h' with 59"
  #undef NUM_LEDS
#endif

#define NUM_LEDS 59                    // Number of LEDs (Maximal 256 RGB LEDs could be used)

#define LEDS_PER_CHANNEL ",59"

#define RECEIVE_LED_COLOR_PER_RS232
#define USE_EXT_ADDR
#define USE_RS232_OR_SPI_AS_INPUT      // Use the RS232 or SPI Input to read DCC/SX commands from the second Arduino and from the PC (The SPI is only used if enabled with USE_SPI_COM)
#define ADDR_OFFSET 0

#define ADDR_MSK  0x3FFF  // 14 Bits are used for the Address

#define S_ONOFF   (uint16_t)0
#define B_RED     (uint16_t)(1<<14)
#define B_GREEN   (uint16_t)(2<<14)
#define B_RESERVE (uint16_t)(3<<14)    // Not used at the moment
#define B_TAST    B_RED


typedef struct
    {
    uint16_t AddrAndTyp; // Addr range: 0..16383. The upper two bytes are used for the type
    uint8_t  InCnt;
    } __attribute__ ((packed)) Ext_Addr_T;

// Definition of external adresses
#ifdef CONFIG_ONLY
const Ext_Addr_T Ext_Addr[] __attribute__ ((section (".MLLAddressConfig"))) =
#else
const PROGMEM Ext_Addr_T Ext_Addr[] =
#endif
         { // Addr & Typ    InCnt
           { 80   + S_ONOFF, 1 },      // SX 10,1:  Excel row 5           { 81   + S_ONOFF, 1 },      // SX 10,2:  Decke grün           { 82   + S_ONOFF, 1 },      // SX 10,3:  Decke blau           { 83   + S_ONOFF, 1 },      // SX 10,4:  Decke ws           { 84   + S_ONOFF, 1 },      // SX 10,5:  frei           { 85   + S_ONOFF, 1 },      // SX 10,6:  Barberino Lokschuppen           { 88   + S_ONOFF, 1 },      // SX 11,1:  Laterne 1           { 96   + S_ONOFF, 1 },      // SX 12,1:  Toilette           { 97   + S_ONOFF, 1 },      // SX 12,2:  Vordach           { 98   + S_ONOFF, 1 },      // SX 12,3:  Uhr rechts           { 100  + S_ONOFF, 1 },      // SX 12,5:  Bahnhofshalle           { 101  + S_ONOFF, 1 },      // SX 12,6:  Schlafzimmer           { 102  + S_ONOFF, 1 },      // SX 12,7:  Trafohaus           { 93   + S_ONOFF, 1 },      // SX 11,6:  frei           { 94   + S_ONOFF, 1 },      // SX 11,7:  frei           { 128  + S_ONOFF, 1 },      // SX 16,1:  Empfangsgebäude           { 64   + S_ONOFF, 4 },      // SX  8,1:  Cheerlights Empfangshalle           { 130  + S_ONOFF, 1 },      // SX 16,3:  Nebengebäude           { 131  + S_ONOFF, 1 },      // SX 16,4:  Hauptgebäude           { 136  + S_ONOFF, 1 },      // SX 17,1:  Eckhaus           { 137  + S_ONOFF, 1 },      // SX 17,2:  Pizzeria           { 138  + S_ONOFF, 1 },      // SX 17,3:  Pizzeria/Wohnhaus           { 144  + S_ONOFF, 1 },      // SX 18,1:  Nr.1 Laden           { 145  + S_ONOFF, 1 },      // SX 18,2:  Nr.1 Wohnungen           { 146  + S_ONOFF, 1 },      // SX 18,3:  Excel row 62           { 147  + S_ONOFF, 1 },      // SX 18,4:  Excel row 63           { 148  + S_ONOFF, 1 },      // SX 18,5:  Excel row 64           { 149  + S_ONOFF, 1 },      // SX 18,6:  Excel row 65           { 150  + S_ONOFF, 1 },      // SX 18,7:  Excel row 66           { 151  + S_ONOFF, 1 },      // SX 18,8:  Excel row 67         };


// Input channel defines for local inputs and expert users
#define INCH_SX_10_1_ONOFF      0      // Excel row 5#define INCH_SX_10_2_ONOFF      1      // Decke grün#define INCH_SX_10_3_ONOFF      2      // Decke blau#define INCH_SX_10_4_ONOFF      3      // Decke ws#define INCH_SX_10_5_ONOFF      4      // frei#define INCH_SX_10_6_ONOFF      5      // Barberino Lokschuppen#define INCH_SX_11_1_ONOFF      6      // Laterne 1#define INCH_SX_12_1_ONOFF      7      // Toilette#define INCH_SX_12_2_ONOFF      8      // Vordach#define INCH_SX_12_3_ONOFF      9      // Uhr rechts#define INCH_SX_12_5_ONOFF      10     // Bahnhofshalle#define INCH_SX_12_6_ONOFF      11     // Schlafzimmer#define INCH_SX_12_7_ONOFF      12     // Trafohaus#define INCH_SX_11_6_ONOFF      13     // frei#define INCH_SX_11_7_ONOFF      14     // frei#define INCH_SX_16_1_ONOFF      15     // Empfangsgebäude#define INCH_SX_8_1_ONOFF       16     // Cheerlights Empfangshalle#define INCH_SX_8_2_ONOFF       17     //     "#define INCH_SX_8_3_ONOFF       18     //     "#define INCH_SX_8_4_ONOFF       19     //     "#define INCH_SX_16_3_ONOFF      20     // Nebengebäude#define INCH_SX_16_4_ONOFF      21     // Hauptgebäude#define INCH_SX_17_1_ONOFF      22     // Eckhaus#define INCH_SX_17_2_ONOFF      23     // Pizzeria#define INCH_SX_17_3_ONOFF      24     // Pizzeria/Wohnhaus#define INCH_SX_18_1_ONOFF      25     // Nr.1 Laden#define INCH_SX_18_2_ONOFF      26     // Nr.1 Wohnungen#define INCH_SX_18_3_ONOFF      27     // Excel row 62#define INCH_SX_18_4_ONOFF      28     // Excel row 63#define INCH_SX_18_5_ONOFF      29     // Excel row 64#define INCH_SX_18_6_ONOFF      30     // Excel row 65#define INCH_SX_18_7_ONOFF      31     // Excel row 66#define INCH_SX_18_8_ONOFF      32     // Excel row 67

/*********************/
#define SETUP_FASTLED()                                                      \
/*********************/                                                      \
  CLEDController& controller0 = FastLED.addLeds<NEOPIXEL,  6>(leds+  0, 59); \
                                                                             \
  controller0.clearLeds(256);                                                \
  FastLED.setDither(DISABLE_DITHER);       // avoid sending slightly modified brightness values
/*End*/



//*******************************************************************
// *** Configuration array which defines the behavior of the LEDs ***
MobaLedLib_Configuration()
  {
  RGB_Heartbeat(0)                                                                                            /* Excel row 3                                                                                                                                                                                 */  ConstrWarnLightRGB6(1, 0, 5, 255, 100 ms, 0 ms, 500 ms)                                                     /* Excel row 5                                                                                                                                                                                 */  // Activation: Binary                                                                                       /* Tag_Nacht (pc)                                                                                                                                                                              */  Bin_InCh_to_TmpVar(INCH_SX_10_1_ONOFF, 2)                                                                   /*     "                                                                                                                                                                                       */  XPatternT11(7,28,SI_LocalVar,4,0,255,0,0,4 sec,4 sec,12 sec,6 sec,3 sec,6 sec,4 sec,8 sec,4 sec,10 ms,10 ms,0,0,15,0,150,0,15,0,100,125,15,100,0,0,15,250,0,0,15,250,0,0,15,250,150,0,15,150,100,0,15,100,0,0,15,0,0,0,15,0,0,0,15,250  ,0,0,0,127,128,0,0,0,63,191,191) /*     "                          */  Const(9, C1, INCH_SX_10_1_ONOFF, 0, 127)                                                                    /* Decke rot                                                                                                                                                                                   */  Const(9, C2, 1, 0, 127)                                                                                     /* Decke grün                                                                                                                                                                                  */  Const(9, C3, 2, 10, 150)                                                                                    /* Decke blau                                                                                                                                                                                  */  Const(10, C1, 3, 0, 180)                                                                                    /* Decke ws                                                                                                                                                                                    */  Const(10, C2, 4, 0, 50)                                                                                     /* frei                                                                                                                                                                                        */  Const(10, C3, 5, 0, 30)                                                                                     /* Barberino Lokschuppen                                                                                                                                                                       */  Const(11, C1, 6, 0, 75)                                                                                     /* Laterne 1                                                                                                                                                                                   */  Const(11, C2, INCH_SX_11_1_ONOFF, 0, 75)                                                                    /* Laterne 2                                                                                                                                                                                   */  Const(11, C3, 7, 0, 100)                                                                                    /* Toilette                                                                                                                                                                                    */  Const(12, C1, 8, 0, 180)                                                                                    /* Vordach                                                                                                                                                                                     */  Const(12, C2, 9, 0, 100)                                                                                    /* Uhr rechts                                                                                                                                                                                  */  Const(12, C3, INCH_SX_12_3_ONOFF, 0, 100)                                                                   /* Uhr links                                                                                                                                                                                   */  House(13, 10, 1, 1, NEON_LIGHT)                                                                             /* Bahnhofshalle                                                                                                                                                                               */  House(14, 11, 1, 1, ROOM_DARK)                                                                              /* Schlafzimmer                                                                                                                                                                                */  Const(15, C1, INCH_SX_11_1_ONOFF, 0, 75)                                                                    /* Laterne 3                                                                                                                                                                                   */  Const(15, C2, INCH_SX_11_1_ONOFF, 0, 75)                                                                    /* Laterne 4                                                                                                                                                                                   */  Const(15, C3, INCH_SX_11_1_ONOFF, 0, 75)                                                                    /* Laterne 3                                                                                                                                                                                   */  Const(16, C1, 12, 0, 80)                                                                                    /* Trafohaus                                                                                                                                                                                   */  Const(16, C2, 13, 0, 90)                                                                                    /* frei                                                                                                                                                                                        */  Const(16, C3, 14, 0, 90)                                                                                    /* frei                                                                                                                                                                                        */  HouseT(17, 15, 0, 2, 5, 90, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT)                                             /* Empfangsgebäude                                                                                                                                                                             */  // Activation: Binary                                                                                       /* Cheerlights Empfangshalle                                                                                                                                                                   */  Bin_InCh_to_TmpVar(16, 4)                                                                                   /*     "                                                                                                                                                                                       */  PatternT1(20,28,SI_LocalVar,3,0,255,0,1,1 Sec,1,1,1,255,0,0,0,128,0,0,0,255,0,255,255,255,255,255,254,245,230,128,0,128,255,0,255,255,255,0,255,165,0,255,192,203  ,63,191,191,191,191,191,191,191,191,191,191,191) /*     "                                                                               */  HouseT(21, 20, 2, 5, 5, 90, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT) /* Nebengebäude                                                                                                                                                                            */  HouseT(28, 21, 2, 6, 5, 90, NEON_LIGHT, NEON_LIGHT, NEON_LIGHT, ROOM_TV0, NEON_LIGHT, NEON_LIGHT, ROOM_TV1, NEON_LIGHT) /* Hauptgebäude                                                                                                                                                                    */  House(36, 22, 2, 7, ROOM_WARM_W, ROOM_WARM_W, ROOM_WARM_W, ROOM_WARM_W, ROOM_WARM_W, ROOM_WARM_W, ROOM_WARM_W) /* Eckhaus                                                                                                                                                                                  */  House(43, 23, 2, 2, NEON_LIGHT, NEON_LIGHT)                                                                 /* Pizzeria                                                                                                                                                                                    */  House(45, 24, 1, 3, ROOM_WARM_W, ROOM_WARM_W, ROOM_TV0, ROOM_WARM_W)                                        /* Pizzeria/Wohnhaus                                                                                                                                                                           */  Const(49, C_ALL, 25, 0, 127)                                                                                /* Nr.1 Laden                                                                                                                                                                                  */  House(50, 26, 0, 3, ROOM_WARM_W, ROOM_TV1, ROOM_WARM_W)                                                     /* Nr.1 Wohnungen                                                                                                                                                                              */  Const(53, C_ALL, 27, 0, 127)                                                                                /* Excel row 62                                                                                                                                                                                */  Const(54, C_ALL, 28, 0, 127)                                                                                /* Excel row 63                                                                                                                                                                                */  Const(55, C_ALL, 29, 0, 127)                                                                                /* Excel row 64                                                                                                                                                                                */  Const(56, C_ALL, 30, 0, 127)                                                                                /* Excel row 65                                                                                                                                                                                */  Const(57, C_ALL, 31, 0, 127)                                                                                /* Excel row 66                                                                                                                                                                                */  Const(58, C_ALL, 32, 0, 127)                                                                                /* Excel row 67                                                                                                                                                                                */
  EndCfg // End of the configuration
  };
//*******************************************************************

//---------------------------------------------
void Set_Start_Values(MobaLedLib_C &MobaLedLib)
//---------------------------------------------
{
}


// if function returns TRUE the calling loop stops
typedef bool(*HandleValue_t) (uint8_t CallbackType, uint8_t ValueId, uint8_t* Value, uint16_t EEPromAddr, uint8_t TargetValueId, uint8_t Options);


#define InCnt_MSK  0x0007  // 3 Bits are used for the InCnt
#define IS_COUNTER (uint8_t)0x80
#define IS_PULSE   (uint8_t)0x40
#define IS_TOGGLE  (uint8_t)0x00
#define COUNTER_ID

typedef struct
    {
    uint8_t TypAndInCnt; // Type bit 7, InCnt bits 0..3, reserved 0 bits 4..6
    uint8_t Channel;
    } __attribute__ ((packed)) Store_Channel_T;

// Definition of channels and counters that need to store state in EEPromconst PROGMEM Store_Channel_T Store_Values[] =         { // Mode + InCnt , Channel
           { IS_TOGGLE + 1 , INCH_SX_10_1_ONOFF  },      // Excel row 5           { IS_TOGGLE + 1 , INCH_SX_10_2_ONOFF  },      // Decke grün           { IS_TOGGLE + 1 , INCH_SX_10_3_ONOFF  },      // Decke blau           { IS_TOGGLE + 1 , INCH_SX_10_4_ONOFF  },      // Decke ws           { IS_TOGGLE + 1 , INCH_SX_10_5_ONOFF  },      // frei           { IS_TOGGLE + 1 , INCH_SX_10_6_ONOFF  },      // Barberino Lokschuppen           { IS_TOGGLE + 1 , INCH_SX_11_1_ONOFF  },      // Laterne 1           { IS_TOGGLE + 1 , INCH_SX_12_1_ONOFF  },      // Toilette           { IS_TOGGLE + 1 , INCH_SX_12_2_ONOFF  },      // Vordach           { IS_TOGGLE + 1 , INCH_SX_12_3_ONOFF  },      // Uhr rechts           { IS_TOGGLE + 1 , INCH_SX_12_5_ONOFF  },      // Bahnhofshalle           { IS_TOGGLE + 1 , INCH_SX_12_6_ONOFF  },      // Schlafzimmer           { IS_TOGGLE + 1 , INCH_SX_12_7_ONOFF  },      // Trafohaus           { IS_TOGGLE + 1 , INCH_SX_11_6_ONOFF  },      // frei           { IS_TOGGLE + 1 , INCH_SX_11_7_ONOFF  },      // frei           { IS_TOGGLE + 1 , INCH_SX_16_1_ONOFF  },      // Empfangsgebäude           { IS_TOGGLE + 4 , INCH_SX_8_1_ONOFF   },      // Cheerlights Empfangshalle           { IS_TOGGLE + 1 , INCH_SX_16_3_ONOFF  },      // Nebengebäude           { IS_TOGGLE + 1 , INCH_SX_16_4_ONOFF  },      // Hauptgebäude           { IS_TOGGLE + 1 , INCH_SX_17_1_ONOFF  },      // Eckhaus           { IS_TOGGLE + 1 , INCH_SX_17_2_ONOFF  },      // Pizzeria           { IS_TOGGLE + 1 , INCH_SX_17_3_ONOFF  },      // Pizzeria/Wohnhaus           { IS_TOGGLE + 1 , INCH_SX_18_1_ONOFF  },      // Nr.1 Laden           { IS_TOGGLE + 1 , INCH_SX_18_2_ONOFF  },      // Nr.1 Wohnungen           { IS_TOGGLE + 1 , INCH_SX_18_3_ONOFF  },      // Excel row 62           { IS_TOGGLE + 1 , INCH_SX_18_4_ONOFF  },      // Excel row 63           { IS_TOGGLE + 1 , INCH_SX_18_5_ONOFF  },      // Excel row 64           { IS_TOGGLE + 1 , INCH_SX_18_6_ONOFF  },      // Excel row 65           { IS_TOGGLE + 1 , INCH_SX_18_7_ONOFF  },      // Excel row 66           { IS_TOGGLE + 1 , INCH_SX_18_8_ONOFF  },      // Excel row 67         };

#ifndef CONFIG_ONLY
#endif // CONFIG_ONLY





#endif // __LEDS_AUTOPROG_H__
